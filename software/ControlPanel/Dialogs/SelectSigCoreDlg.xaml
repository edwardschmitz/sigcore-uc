<Window x:Class="ControlPanel.Dialogs.SelectSigCoreDlg"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Select SigCore UC"
        WindowStyle="None"
        ShowInTaskbar="False"
        AllowsTransparency="True"
        Background="Transparent"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterScreen"
        SizeToContent="WidthAndHeight"
        FontFamily="Segoe UI"
        FontSize="14">

    <Window.Resources>
        <Style x:Key="WatermarkTextBox" TargetType="TextBox">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border x:Name="Border"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                Padding="{TemplateBinding Padding}"
                                Margin="{TemplateBinding Margin}"
                                >

                            <Grid>
                                <ScrollViewer x:Name="PART_ContentHost"/>

                                <TextBlock x:Name="Watermark"
                                   Text="{TemplateBinding Tag}"
                                   Foreground="LightGray"
                                   FontWeight="Bold"
                                   IsHitTestVisible="False"
                                   VerticalAlignment="Center"
                                   Visibility="Collapsed"/>
                            </Grid>
                        </Border>

                        <ControlTemplate.Triggers>
                            <Trigger Property="Text" Value="">
                                <Setter TargetName="Watermark" Property="Visibility" Value="Visible"/>
                            </Trigger>

                            <Trigger Property="IsKeyboardFocused" Value="True">
                                <Setter TargetName="Border" Property="BorderBrush" 
                                Value="{DynamicResource {x:Static SystemColors.HighlightBrushKey}}"/>
                                <Setter TargetName="Watermark" Property="Visibility" Value="Collapsed"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    
    <Border Margin="10" Padding="10" CornerRadius="8"
            BorderBrush="#888" BorderThickness="1" Background="White">

        <StackPanel>

            <TextBlock Text="Select a SigCore UC Device"
                       FontWeight="Bold"
                       FontSize="16"
                       HorizontalAlignment="Center"
                       Margin="0,0,0,10"/>

            <!-- MAIN LAYOUT: buttons left, list right -->
            <Grid>

                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="10"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="auto" />
                    <RowDefinition Height="auto" />
                    <RowDefinition Height="1*" />
                </Grid.RowDefinitions>
                
                <StackPanel Grid.Column="0"
                            Grid.Row="0"
                            Grid.RowSpan="3"
                            VerticalAlignment="Top"
                            Margin="0,0,0,0">

                    <Button x:Name="OkButton" 
                            Width="120" Margin="5,2"
                            IsEnabled="False"
                            IsDefault="True"
                            Click="Ok_Click">Connect</Button>
                    <Button Width="120" Margin="5,2"
                            Click="ScanSubnet_Click">Scan Subnet</Button>

                    <Button Width="120" Margin="5,2"
                            IsCancel="True"
                            Click="Cancel_Click">Cancel</Button>
                    <CheckBox Content="Auto Connect"
                              Margin="5,8"
                              x:Name="AutoConnect"
                              />

                </StackPanel>

                <Label Content="Enter IP Address:" 
                       Grid.Row="0"
                       Grid.Column="2"
                        FontWeight="Bold"
                       Margin="5,2"
                       />
                <TextBox x:Name="IPAddress"
                         Grid.Row="1"
                         Grid.Column="2"
                        FontWeight="Bold"
                         Margin="5,2,5,5"
                         Padding="5,2"
                         Style="{StaticResource WatermarkTextBox}"
                         Tag="xxx.xxx.xxx.xxx"
                         TextChanged="IPAddress_TextChanged"
                         />
                <ListBox x:Name="DeviceList"
                        Grid.Column="2"
                         Grid.Row="2"
                         Margin="10,2"
                        Width="400"
                        Height="200"
                         Padding="5,2"
                        DisplayMemberPath="DisplayName"
                        FontWeight="Bold"
                        MouseDoubleClick="DeviceList_MouseDoubleClick"
                        SelectionChanged="DeviceList_SelectionChanged"/>
            </Grid>

        </StackPanel>
    </Border>
</Window>
